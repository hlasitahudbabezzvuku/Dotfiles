#  ______               
# /_  __/_ _  __ ____ __tm
#  / / /  ' \/ // /\ \ /
# /_/ /_/_/_/\_,_//_\_\ 


###############
### Options ###
###############

set -g default-terminal "tmux-256color"
set -ag terminal-overrides ",xterm-256color:RGB"

set -g mouse on
set -g status-position top

unbind C-b
set -g prefix c-space

set -g base-index 1
set -g pane-base-index 1
set-window-option -g pane-base-index 1
set-option -g renumber-windows on

set-window-option -g mode-keys vi

bind -T copy-mode-vi v send-keys -X begin-selection
bind -T copy-mode-vi C-v send-keys -X rectangle-toggle
bind -T copy-mode-vi y send-keys -X copy-selection-and-cancel

bind \" split-window -v -c "#{pane_current_path}"
bind % split-window -h -c "#{pane_current_path}"
bind a display-popup -E -w 80% -h 80% -d "#{pane_current_path}" $SHELL

bind h select-pane -L
bind j select-pane -D 
bind k select-pane -U
bind l select-pane -R

bind r source-file ~/.config/tmux/tmux.conf

set -g allow-passthrough on
set -ga update-environment TERM
set -ga update-environment TERM_PROGRAM

run "~/.config/tmux/smart-splits.tmux"


#######################
### Custom bindings ###
#######################

bind -n C-y new-window "/usr/bin/nvim $HOME/General/Documents/Notes/TODO.md"


###################
### Status-line ###
###################

set -g status-interval 10
set -g status-justify absolute-centre

set-option -g status-style bg=default
set-option -g pane-active-border-style fg=colour12
set-option -g pane-border-style fg=colour4

set-option -g status-left-length 40
set-option -g status-left "#[fg=colour0, bg=colour8]#{?client_prefix,#[bg=colour1] COMMAND,#[fg=default] NORMAL} #[fg=default, bg=colour0] #S #[bg=default] #H "
set-option -g status-right-length 40
set-option -g status-right "-- #[bg=colour0] %Y/%m/%d #[fg=colour0, bg=colour8]#{?client_prefix,#[bg=colour1],#[fg=default]} %H:%M "

set-window-option -g window-status-current-format "#[fg=colour0, bg=colour4] #I #[fg=default, bg=colour0, bold] #W "
set-window-option -g window-status-format "#[bg=colour8] #I #[bg=colour0] #W "

